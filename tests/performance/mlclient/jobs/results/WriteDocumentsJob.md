```text
===================================================================================================== test session starts =====================================================================================================
platform linux -- Python 3.8.10, pytest-7.4.3, pluggy-1.3.0
benchmark: 4.0.0 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: /home/tom/workspace/projects/mlclient
configfile: pyproject.toml
plugins: mock-3.12.0, benchmark-4.0.0, bdd-7.0.1, cov-4.1.0
collected 40 items                                                                                                                                                                                                            

tests/performance/mlclient/jobs/test_write_documents_job.py ........................................                                                                                                                    [100%]
Saved benchmark data in: /home/tom/workspace/projects/mlclient/.benchmarks/Linux-CPython-3.8-64bit/0003_64a25307958cc3ca05d2b2e67cf0813755c5068e_20240119_131654_uncommited-changes.json



---------------------------------------------------------------------------------------------------------- benchmark: 40 tests -----------------------------------------------------------------------------------------------------------
Name (time in ms)                                                         Min                 Max                Mean             StdDev              Median                 IQR            Outliers     OPS            Rounds  Iterations
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
test_writing_docs_with_24_threads_batch_100                          218.0085 (1.0)      422.4976 (1.53)     279.5426 (1.13)     85.7517 (11.18)    234.8882 (1.0)      104.3771 (7.70)          1;0  3.5773 (0.88)          5           1
test_writing_docs_with_12_threads_batch_100                          220.0991 (1.01)     285.7264 (1.03)     255.8457 (1.04)     28.8067 (3.76)     265.6933 (1.13)      50.6734 (3.74)          2;0  3.9086 (0.97)          5           1
test_writing_docs_with_default_settings                              225.5882 (1.03)     283.6281 (1.03)     247.1075 (1.0)      23.3986 (3.05)     235.5764 (1.00)      31.4194 (2.32)          1;0  4.0468 (1.0)           5           1
test_writing_docs_with_24_threads_default_batch                      226.1249 (1.04)     283.0288 (1.02)     247.1749 (1.00)     22.7769 (2.97)     244.5833 (1.04)      31.5007 (2.32)          1;0  4.0457 (1.00)          5           1
test_writing_docs_with_8_threads_default_batch                       229.3751 (1.05)     390.5608 (1.41)     302.3539 (1.22)     66.2486 (8.64)     319.3405 (1.36)     104.3034 (7.69)          2;0  3.3074 (0.82)          5           1
test_writing_docs_with_default_threads_batch_100                     233.1163 (1.07)     276.5050 (1.0)      259.0070 (1.05)     21.4964 (2.80)     273.0748 (1.16)      38.0520 (2.81)          1;0  3.8609 (0.95)          5           1
test_writing_docs_with_12_threads_default_batch                      235.8123 (1.08)     287.0022 (1.04)     266.5338 (1.08)     21.2451 (2.77)     267.7846 (1.14)      34.0256 (2.51)          1;0  3.7519 (0.93)          5           1
test_writing_docs_with_8_threads_batch_100                           261.8406 (1.20)     350.8678 (1.27)     294.6821 (1.19)     33.7424 (4.40)     282.9728 (1.20)      33.5822 (2.48)          1;0  3.3935 (0.84)          5           1
test_writing_docs_with_24_threads_batch_200                          267.5205 (1.23)     378.9301 (1.37)     338.4058 (1.37)     46.9772 (6.13)     362.8264 (1.54)      69.5631 (5.13)          1;0  2.9550 (0.73)          5           1
test_writing_docs_with_4_threads_default_batch                       267.8418 (1.23)     350.6499 (1.27)     306.0339 (1.24)     30.3695 (3.96)     304.7657 (1.30)      36.6157 (2.70)          2;0  3.2676 (0.81)          5           1
test_writing_docs_with_default_threads_batch_200                     285.2667 (1.31)     338.6231 (1.22)     310.4923 (1.26)     19.9701 (2.60)     306.9810 (1.31)      26.5453 (1.96)          2;0  3.2207 (0.80)          5           1
test_writing_docs_with_4_threads_batch_100                           285.9603 (1.31)     429.9639 (1.55)     349.3409 (1.41)     58.8783 (7.68)     366.4502 (1.56)      88.6794 (6.54)          2;0  2.8625 (0.71)          5           1
test_writing_docs_with_8_threads_batch_200                           293.9715 (1.35)     370.5540 (1.34)     346.6052 (1.40)     32.1937 (4.20)     364.8161 (1.55)      40.7632 (3.01)          1;0  2.8851 (0.71)          5           1
test_writing_docs_with_12_threads_batch_200                          321.1723 (1.47)     387.3768 (1.40)     349.9628 (1.42)     25.6239 (3.34)     345.8252 (1.47)      36.9658 (2.73)          2;0  2.8574 (0.71)          5           1
test_writing_docs_with_default_threads_batch_300                     323.7633 (1.49)     435.1649 (1.57)     378.2365 (1.53)     44.8136 (5.84)     373.7854 (1.59)      72.8885 (5.38)          2;0  2.6438 (0.65)          5           1
test_writing_docs_with_24_threads_batch_300                          339.0616 (1.56)     449.2165 (1.62)     401.0657 (1.62)     42.7904 (5.58)     417.1490 (1.78)      59.3568 (4.38)          2;0  2.4934 (0.62)          5           1
test_writing_docs_with_8_threads_batch_300                           351.4536 (1.61)     434.0647 (1.57)     403.0910 (1.63)     34.4268 (4.49)     416.5795 (1.77)      52.6023 (3.88)          1;0  2.4808 (0.61)          5           1
test_writing_docs_with_4_threads_batch_200                           360.1581 (1.65)     445.1648 (1.61)     414.8108 (1.68)     32.2670 (4.21)     420.8904 (1.79)      29.0038 (2.14)          1;1  2.4107 (0.60)          5           1
test_writing_docs_with_12_threads_batch_300                          364.6338 (1.67)     428.1980 (1.55)     406.4404 (1.64)     25.6740 (3.35)     419.0386 (1.78)      31.9406 (2.36)          1;0  2.4604 (0.61)          5           1
test_writing_docs_with_4_threads_batch_300                           372.2787 (1.71)     452.9787 (1.64)     408.9422 (1.65)     32.5533 (4.24)     402.3520 (1.71)      52.2013 (3.85)          2;0  2.4453 (0.60)          5           1
test_writing_docs_from_filesystem_with_4_threads_batch_100           379.1863 (1.74)     445.7730 (1.61)     409.6989 (1.66)     26.5436 (3.46)     415.0256 (1.77)      40.3223 (2.97)          2;0  2.4408 (0.60)          5           1
test_writing_docs_from_filesystem_with_4_threads_default_batch       393.8618 (1.81)     503.3896 (1.82)     441.2775 (1.79)     43.7802 (5.71)     431.6658 (1.84)      67.8452 (5.00)          2;0  2.2661 (0.56)          5           1
test_writing_docs_from_filesystem_with_8_threads_batch_100           396.6459 (1.82)     450.6319 (1.63)     419.0429 (1.70)     20.7552 (2.71)     415.7056 (1.77)      28.3211 (2.09)          2;0  2.3864 (0.59)          5           1
test_writing_docs_from_filesystem_with_8_threads_default_batch       437.2613 (2.01)     499.9253 (1.81)     457.5314 (1.85)     27.0920 (3.53)     442.8932 (1.89)      39.0367 (2.88)          1;0  2.1856 (0.54)          5           1
test_writing_docs_from_filesystem_with_24_threads_default_batch      442.4730 (2.03)     542.1547 (1.96)     481.2533 (1.95)     38.4192 (5.01)     466.5150 (1.99)      47.3400 (3.49)          2;0  2.0779 (0.51)          5           1
test_writing_docs_from_filesystem_with_12_threads_default_batch      442.9496 (2.03)     519.7312 (1.88)     468.4983 (1.90)     30.5209 (3.98)     461.2644 (1.96)      35.1411 (2.59)          1;0  2.1345 (0.53)          5           1
test_writing_docs_from_filesystem_with_4_threads_batch_200           443.4727 (2.03)     497.6584 (1.80)     472.4077 (1.91)     19.3213 (2.52)     473.0811 (2.01)      17.4339 (1.29)          2;0  2.1168 (0.52)          5           1
test_writing_docs_from_filesystem_with_24_threads_batch_200          445.1482 (2.04)     491.8361 (1.78)     465.3628 (1.88)     18.3028 (2.39)     458.5848 (1.95)      26.0759 (1.92)          2;0  2.1489 (0.53)          5           1
test_writing_docs_from_filesystem_with_default_threads_batch_300     457.8370 (2.10)     528.8504 (1.91)     486.0056 (1.97)     27.8085 (3.63)     478.8658 (2.04)      38.5574 (2.84)          2;0  2.0576 (0.51)          5           1
test_writing_docs_from_filesystem_with_8_threads_batch_200           460.1777 (2.11)     531.4918 (1.92)     484.5277 (1.96)     32.0931 (4.18)     464.5412 (1.98)      49.9722 (3.69)          1;0  2.0639 (0.51)          5           1
test_writing_docs_from_filesystem_with_default_threads_batch_100     464.4356 (2.13)     537.7799 (1.94)     494.1258 (2.00)     30.2530 (3.94)     500.4780 (2.13)      44.8962 (3.31)          1;0  2.0238 (0.50)          5           1
test_writing_docs_from_filesystem_with_default_settings              465.7923 (2.14)     482.6639 (1.75)     474.5775 (1.92)      7.6695 (1.0)      477.9739 (2.03)      13.5576 (1.0)           2;0  2.1071 (0.52)          5           1
test_writing_docs_from_filesystem_with_24_threads_batch_100          469.6643 (2.15)     570.5952 (2.06)     503.8029 (2.04)     39.0049 (5.09)     497.0636 (2.12)      34.5808 (2.55)          1;1  1.9849 (0.49)          5           1
test_writing_docs_from_filesystem_with_24_threads_batch_300          470.2766 (2.16)     530.0995 (1.92)     496.1911 (2.01)     21.7922 (2.84)     492.7086 (2.10)      22.8904 (1.69)          2;0  2.0154 (0.50)          5           1
test_writing_docs_from_filesystem_with_default_threads_batch_200     473.4284 (2.17)     552.2318 (2.00)     508.6931 (2.06)     29.1109 (3.80)     503.5298 (2.14)      35.3993 (2.61)          2;0  1.9658 (0.49)          5           1
test_writing_docs_from_filesystem_with_12_threads_batch_100          477.8844 (2.19)     531.2317 (1.92)     500.8186 (2.03)     22.6131 (2.95)     492.4751 (2.10)      37.6277 (2.78)          2;0  1.9967 (0.49)          5           1
test_writing_docs_from_filesystem_with_4_threads_batch_300           479.7933 (2.20)     589.9665 (2.13)     548.1686 (2.22)     53.0781 (6.92)     584.3556 (2.49)      90.2139 (6.65)          1;0  1.8243 (0.45)          5           1
test_writing_docs_from_filesystem_with_12_threads_batch_200          485.4215 (2.23)     553.9214 (2.00)     522.1050 (2.11)     25.9119 (3.38)     521.2168 (2.22)      35.8115 (2.64)          2;0  1.9153 (0.47)          5           1
test_writing_docs_from_filesystem_with_12_threads_batch_300          488.7064 (2.24)     521.1477 (1.88)     502.7438 (2.03)     12.9445 (1.69)     503.7670 (2.14)      19.6766 (1.45)          2;0  1.9891 (0.49)          5           1
test_writing_docs_from_filesystem_with_8_threads_batch_300           501.7464 (2.30)     596.0285 (2.16)     534.3578 (2.16)     36.7058 (4.79)     530.7148 (2.26)      38.0443 (2.81)          1;0  1.8714 (0.46)          5           1
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Legend:
  Outliers: 1 Standard Deviation from Mean; 1.5 IQR (InterQuartile Range) from 1st Quartile and 3rd Quartile.
  OPS: Operations Per Second, computed as 1 / Mean
=============================================================================================== 40 passed in 155.43s (0:02:35) ================================================================================================
```

```text
===================================================================================================== test session starts =====================================================================================================
platform linux -- Python 3.8.10, pytest-7.4.3, pluggy-1.3.0
benchmark: 4.0.0 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: /home/tom/workspace/projects/mlclient
configfile: pyproject.toml
plugins: mock-3.12.0, benchmark-4.0.0, bdd-7.0.1, cov-4.1.0
collected 40 items                                                                                                                                                                                                            

tests/performance/mlclient/jobs/test_write_documents_job.py ........................................                                                                                                                    [100%]
Saved benchmark data in: /home/tom/workspace/projects/mlclient/.benchmarks/Linux-CPython-3.8-64bit/0004_64a25307958cc3ca05d2b2e67cf0813755c5068e_20240119_132522_uncommited-changes.json



---------------------------------------------------------------------------------------------------------- benchmark: 40 tests -----------------------------------------------------------------------------------------------------------
Name (time in ms)                                                         Min                 Max                Mean             StdDev              Median                 IQR            Outliers     OPS            Rounds  Iterations
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
test_writing_docs_with_8_threads_batch_100                           210.3859 (1.0)      354.6671 (1.16)     303.1224 (1.16)     59.3269 (5.82)     317.9291 (1.25)      86.4320 (6.88)          1;0  3.2990 (0.86)          5           1
test_writing_docs_with_24_threads_default_batch                      220.4906 (1.05)     356.3762 (1.16)     283.9502 (1.09)     62.9282 (6.18)     274.1067 (1.07)     119.2864 (9.50)          2;0  3.5217 (0.92)          5           1
test_writing_docs_with_default_threads_batch_100                     231.9196 (1.10)     436.6790 (1.43)     307.9784 (1.18)     86.0470 (8.44)     279.3368 (1.09)     134.4309 (10.70)         1;0  3.2470 (0.85)          5           1
test_writing_docs_with_default_settings                              234.8460 (1.12)     323.5204 (1.06)     272.5943 (1.04)     38.4666 (3.77)     274.3129 (1.07)      66.9985 (5.33)          1;0  3.6685 (0.96)          5           1
test_writing_docs_with_12_threads_default_batch                      235.9973 (1.12)     426.3938 (1.39)     315.0957 (1.20)     75.5646 (7.42)     317.9126 (1.25)     111.0192 (8.84)          2;0  3.1736 (0.83)          5           1
test_writing_docs_with_8_threads_default_batch                       240.0629 (1.14)     306.0890 (1.0)      261.5090 (1.0)      25.7483 (2.53)     255.2667 (1.0)       21.5895 (1.72)          1;1  3.8240 (1.0)           5           1
test_writing_docs_with_12_threads_batch_100                          253.1555 (1.20)     348.7912 (1.14)     306.0550 (1.17)     46.6495 (4.58)     334.2424 (1.31)      83.1827 (6.62)          2;0  3.2674 (0.85)          5           1
test_writing_docs_with_4_threads_default_batch                       258.5331 (1.23)     416.1653 (1.36)     343.2329 (1.31)     62.3463 (6.12)     366.5371 (1.44)      91.8590 (7.31)          2;0  2.9135 (0.76)          5           1
test_writing_docs_with_12_threads_batch_200                          264.9527 (1.26)     370.1803 (1.21)     331.9096 (1.27)     44.8086 (4.40)     356.4933 (1.40)      66.9817 (5.33)          1;0  3.0129 (0.79)          5           1
test_writing_docs_with_default_threads_batch_200                     266.2564 (1.27)     308.6722 (1.01)     285.9135 (1.09)     18.1242 (1.78)     282.8191 (1.11)      31.8176 (2.53)          2;0  3.4976 (0.91)          5           1
test_writing_docs_with_24_threads_batch_100                          286.3775 (1.36)     331.5828 (1.08)     302.0606 (1.16)     17.1962 (1.69)     297.2382 (1.16)      12.5629 (1.0)           1;1  3.3106 (0.87)          5           1
test_writing_docs_with_4_threads_batch_300                           291.2365 (1.38)     433.2683 (1.42)     353.4534 (1.35)     51.5208 (5.06)     351.9141 (1.38)      52.1060 (4.15)          2;0  2.8292 (0.74)          5           1
test_writing_docs_with_4_threads_batch_100                           298.4502 (1.42)     436.8091 (1.43)     378.3740 (1.45)     52.7447 (5.18)     380.6404 (1.49)      70.3334 (5.60)          2;0  2.6429 (0.69)          5           1
test_writing_docs_with_8_threads_batch_200                           302.9752 (1.44)     345.4227 (1.13)     323.9214 (1.24)     17.2197 (1.69)     326.3813 (1.28)      28.1824 (2.24)          2;0  3.0872 (0.81)          5           1
test_writing_docs_with_24_threads_batch_200                          312.1318 (1.48)     398.2860 (1.30)     343.4936 (1.31)     39.3848 (3.86)     321.2820 (1.26)      65.5883 (5.22)          1;0  2.9113 (0.76)          5           1
test_writing_docs_with_default_threads_batch_300                     320.4896 (1.52)     463.0317 (1.51)     408.7870 (1.56)     54.1206 (5.31)     412.5657 (1.62)      59.4641 (4.73)          2;0  2.4463 (0.64)          5           1
test_writing_docs_with_8_threads_batch_300                           378.5380 (1.80)     415.1591 (1.36)     404.8109 (1.55)     15.4092 (1.51)     412.4012 (1.62)      17.3766 (1.38)          1;0  2.4703 (0.65)          5           1
test_writing_docs_with_24_threads_batch_300                          382.5858 (1.82)     503.4999 (1.64)     434.7164 (1.66)     44.8460 (4.40)     432.6484 (1.69)      53.5929 (4.27)          2;0  2.3004 (0.60)          5           1
test_writing_docs_from_filesystem_with_4_threads_batch_100           392.1963 (1.86)     450.9971 (1.47)     407.7718 (1.56)     24.4039 (2.39)     397.3539 (1.56)      18.6954 (1.49)          1;1  2.4524 (0.64)          5           1
test_writing_docs_from_filesystem_with_4_threads_default_batch       398.6968 (1.90)     455.6563 (1.49)     421.8152 (1.61)     22.9250 (2.25)     421.5446 (1.65)      34.5824 (2.75)          2;0  2.3707 (0.62)          5           1
test_writing_docs_with_12_threads_batch_300                          404.3662 (1.92)     477.9730 (1.56)     435.6078 (1.67)     31.6720 (3.11)     426.6199 (1.67)      54.5040 (4.34)          1;0  2.2956 (0.60)          5           1
test_writing_docs_from_filesystem_with_8_threads_default_batch       405.6748 (1.93)     431.7681 (1.41)     420.7898 (1.61)     10.1904 (1.0)      424.5608 (1.66)      14.1793 (1.13)          2;0  2.3765 (0.62)          5           1
test_writing_docs_with_4_threads_batch_200                           405.7740 (1.93)     475.1480 (1.55)     436.2747 (1.67)     28.2877 (2.78)     430.7627 (1.69)      45.9003 (3.65)          2;0  2.2921 (0.60)          5           1
test_writing_docs_from_filesystem_with_8_threads_batch_100           417.1057 (1.98)     452.4284 (1.48)     429.9082 (1.64)     14.7360 (1.45)     423.6474 (1.66)      21.9230 (1.75)          1;0  2.3261 (0.61)          5           1
test_writing_docs_from_filesystem_with_12_threads_default_batch      436.6334 (2.08)     487.1307 (1.59)     452.2547 (1.73)     21.1978 (2.08)     442.0278 (1.73)      27.3089 (2.17)          1;0  2.2111 (0.58)          5           1
test_writing_docs_from_filesystem_with_4_threads_batch_200           444.8816 (2.11)     573.3507 (1.87)     500.3286 (1.91)     48.8402 (4.79)     499.6710 (1.96)      65.5126 (5.21)          2;0  1.9987 (0.52)          5           1
test_writing_docs_from_filesystem_with_24_threads_batch_100          447.0129 (2.12)     520.5421 (1.70)     492.8806 (1.88)     30.0522 (2.95)     502.7079 (1.97)      44.6185 (3.55)          1;0  2.0289 (0.53)          5           1
test_writing_docs_from_filesystem_with_default_threads_batch_100     448.0054 (2.13)     522.3248 (1.71)     482.5011 (1.85)     30.3846 (2.98)     479.5422 (1.88)      50.4960 (4.02)          2;0  2.0725 (0.54)          5           1
test_writing_docs_from_filesystem_with_default_threads_batch_300     450.7096 (2.14)     513.8303 (1.68)     472.3258 (1.81)     25.2977 (2.48)     460.7807 (1.81)      30.8521 (2.46)          1;0  2.1172 (0.55)          5           1
test_writing_docs_from_filesystem_with_default_threads_batch_200     452.9384 (2.15)     507.2900 (1.66)     475.2849 (1.82)     22.5340 (2.21)     468.9034 (1.84)      36.3697 (2.90)          1;0  2.1040 (0.55)          5           1
test_writing_docs_from_filesystem_with_24_threads_default_batch      453.3246 (2.15)     511.2011 (1.67)     476.2259 (1.82)     27.0359 (2.65)     458.9112 (1.80)      45.6188 (3.63)          1;0  2.0998 (0.55)          5           1
test_writing_docs_from_filesystem_with_24_threads_batch_300          455.4379 (2.16)     492.7343 (1.61)     476.9286 (1.82)     13.7680 (1.35)     478.9696 (1.88)      15.6665 (1.25)          2;0  2.0967 (0.55)          5           1
test_writing_docs_from_filesystem_with_12_threads_batch_300          457.2650 (2.17)     607.6294 (1.99)     510.6769 (1.95)     60.3451 (5.92)     496.5249 (1.95)      81.0832 (6.45)          1;0  1.9582 (0.51)          5           1
test_writing_docs_from_filesystem_with_8_threads_batch_200           457.6727 (2.18)     517.6089 (1.69)     488.3918 (1.87)     25.5156 (2.50)     496.5877 (1.95)      43.3913 (3.45)          2;0  2.0475 (0.54)          5           1
test_writing_docs_from_filesystem_with_12_threads_batch_100          460.7399 (2.19)     612.9328 (2.00)     517.6621 (1.98)     65.7486 (6.45)     482.2237 (1.89)     102.6941 (8.17)          1;0  1.9318 (0.51)          5           1
test_writing_docs_from_filesystem_with_12_threads_batch_200          468.7438 (2.23)     537.9558 (1.76)     497.6461 (1.90)     33.4764 (3.29)     476.7755 (1.87)      58.9546 (4.69)          1;0  2.0095 (0.53)          5           1
test_writing_docs_from_filesystem_with_default_settings              473.8355 (2.25)     571.3944 (1.87)     500.4115 (1.91)     40.7785 (4.00)     482.6512 (1.89)      40.6926 (3.24)          1;0  1.9984 (0.52)          5           1
test_writing_docs_from_filesystem_with_24_threads_batch_200          482.1690 (2.29)     529.9924 (1.73)     500.2975 (1.91)     21.2996 (2.09)     490.9154 (1.92)      35.9992 (2.87)          1;0  1.9988 (0.52)          5           1
test_writing_docs_from_filesystem_with_4_threads_batch_300           485.8362 (2.31)     606.3823 (1.98)     557.8304 (2.13)     50.2139 (4.93)     575.7507 (2.26)      79.9866 (6.37)          1;0  1.7927 (0.47)          5           1
test_writing_docs_from_filesystem_with_8_threads_batch_300           489.7448 (2.33)     551.8018 (1.80)     507.6740 (1.94)     25.3210 (2.48)     499.9978 (1.96)      24.0934 (1.92)          1;0  1.9698 (0.52)          5           1
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Legend:
  Outliers: 1 Standard Deviation from Mean; 1.5 IQR (InterQuartile Range) from 1st Quartile and 3rd Quartile.
  OPS: Operations Per Second, computed as 1 / Mean
=============================================================================================== 40 passed in 157.56s (0:02:37) ================================================================================================
```

```text
===================================================================================================== test session starts =====================================================================================================
platform linux -- Python 3.8.10, pytest-7.4.3, pluggy-1.3.0
benchmark: 4.0.0 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: /home/tom/workspace/projects/mlclient
configfile: pyproject.toml
plugins: mock-3.12.0, benchmark-4.0.0, bdd-7.0.1, cov-4.1.0
collected 40 items                                                                                                                                                                                                            

tests/performance/mlclient/jobs/test_write_documents_job.py ........................................                                                                                                                    [100%]
Saved benchmark data in: /home/tom/workspace/projects/mlclient/.benchmarks/Linux-CPython-3.8-64bit/0005_64a25307958cc3ca05d2b2e67cf0813755c5068e_20240119_133615_uncommited-changes.json



---------------------------------------------------------------------------------------------------------- benchmark: 40 tests ----------------------------------------------------------------------------------------------------------
Name (time in ms)                                                         Min                 Max                Mean             StdDev              Median                IQR            Outliers     OPS            Rounds  Iterations
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
test_writing_docs_with_24_threads_default_batch                      221.1696 (1.0)      233.9568 (1.0)      226.6414 (1.0)       6.4170 (1.24)     222.7776 (1.0)      11.7010 (2.29)          2;0  4.4123 (1.0)           5           1
test_writing_docs_with_12_threads_default_batch                      222.3954 (1.01)     235.7091 (1.01)     226.9678 (1.00)      5.4980 (1.07)     225.7704 (1.01)      7.7967 (1.52)          1;0  4.4059 (1.00)          5           1
test_writing_docs_with_12_threads_batch_100                          226.3216 (1.02)     281.9561 (1.21)     242.5839 (1.07)     22.7868 (4.42)     231.4084 (1.04)     22.5395 (4.40)          1;0  4.1223 (0.93)          5           1
test_writing_docs_with_default_settings                              228.0342 (1.03)     272.1252 (1.16)     242.9206 (1.07)     16.9235 (3.28)     237.4874 (1.07)     12.5655 (2.46)          1;1  4.1166 (0.93)          5           1
test_writing_docs_with_8_threads_default_batch                       231.7136 (1.05)     252.0824 (1.08)     239.8537 (1.06)      8.5425 (1.66)     236.4372 (1.06)     13.5905 (2.66)          1;0  4.1692 (0.94)          5           1
test_writing_docs_with_24_threads_batch_100                          234.1587 (1.06)     270.8191 (1.16)     244.6610 (1.08)     15.3388 (2.97)     237.2811 (1.07)     17.2328 (3.37)          1;0  4.0873 (0.93)          5           1
test_writing_docs_with_default_threads_batch_100                     237.3169 (1.07)     260.3686 (1.11)     245.2230 (1.08)     11.0422 (2.14)     237.3840 (1.07)     18.0499 (3.53)          1;0  4.0779 (0.92)          5           1
test_writing_docs_with_8_threads_batch_100                           241.0489 (1.09)     338.0590 (1.44)     282.6818 (1.25)     41.1733 (7.98)     279.4490 (1.25)     70.6719 (13.81)         2;0  3.5375 (0.80)          5           1
test_writing_docs_with_8_threads_batch_200                           254.4086 (1.15)     323.4511 (1.38)     288.5821 (1.27)     24.6731 (4.78)     290.9561 (1.31)     24.0539 (4.70)          2;0  3.4652 (0.79)          5           1
test_writing_docs_with_12_threads_batch_200                          264.7563 (1.20)     391.6142 (1.67)     323.5808 (1.43)     51.9787 (10.08)    312.3403 (1.40)     85.6924 (16.75)         2;0  3.0904 (0.70)          5           1
test_writing_docs_with_default_threads_batch_200                     267.4601 (1.21)     331.1572 (1.42)     292.4215 (1.29)     27.6962 (5.37)     278.4909 (1.25)     44.9854 (8.79)          1;0  3.4197 (0.78)          5           1
test_writing_docs_with_24_threads_batch_200                          273.6333 (1.24)     439.9510 (1.88)     336.5822 (1.49)     64.0201 (12.41)    320.1779 (1.44)     78.1552 (15.27)         1;0  2.9710 (0.67)          5           1
test_writing_docs_with_4_threads_default_batch                       286.2467 (1.29)     314.4664 (1.34)     295.1708 (1.30)     11.1398 (2.16)     292.1243 (1.31)     10.1130 (1.98)          1;1  3.3879 (0.77)          5           1
test_writing_docs_with_4_threads_batch_100                           292.7144 (1.32)     391.5599 (1.67)     328.2625 (1.45)     40.1959 (7.79)     308.5709 (1.39)     54.1892 (10.59)         1;0  3.0463 (0.69)          5           1
test_writing_docs_with_12_threads_batch_300                          308.1945 (1.39)     389.5217 (1.66)     342.4508 (1.51)     32.4727 (6.30)     326.8998 (1.47)     45.9452 (8.98)          2;0  2.9201 (0.66)          5           1
test_writing_docs_with_default_threads_batch_300                     311.6343 (1.41)     340.5476 (1.46)     324.2765 (1.43)     13.2446 (2.57)     319.7602 (1.44)     24.2091 (4.73)          1;0  3.0838 (0.70)          5           1
test_writing_docs_with_4_threads_batch_300                           315.3472 (1.43)     404.7447 (1.73)     354.3656 (1.56)     36.2489 (7.03)     351.9437 (1.58)     58.3121 (11.40)         2;0  2.8219 (0.64)          5           1
test_writing_docs_with_8_threads_batch_300                           318.6739 (1.44)     358.0815 (1.53)     339.6434 (1.50)     16.4906 (3.20)     333.6023 (1.50)     26.1060 (5.10)          2;0  2.9443 (0.67)          5           1
test_writing_docs_with_4_threads_batch_200                           321.0111 (1.45)     387.8515 (1.66)     358.0869 (1.58)     28.2568 (5.48)     348.3676 (1.56)     44.6468 (8.73)          2;0  2.7926 (0.63)          5           1
test_writing_docs_with_24_threads_batch_300                          340.8252 (1.54)     414.7712 (1.77)     372.6998 (1.64)     31.7440 (6.15)     371.5047 (1.67)     55.2713 (10.80)         2;0  2.6831 (0.61)          5           1
test_writing_docs_from_filesystem_with_4_threads_batch_100           389.3583 (1.76)     437.0925 (1.87)     421.0237 (1.86)     18.4118 (3.57)     425.2739 (1.91)     15.7048 (3.07)          1;1  2.3752 (0.54)          5           1
test_writing_docs_from_filesystem_with_4_threads_default_batch       408.0064 (1.84)     445.2458 (1.90)     431.7556 (1.91)     14.2539 (2.76)     436.3012 (1.96)     15.0904 (2.95)          1;0  2.3161 (0.52)          5           1
test_writing_docs_from_filesystem_with_8_threads_batch_100           415.3094 (1.88)     458.8111 (1.96)     435.6131 (1.92)     20.6925 (4.01)     425.5211 (1.91)     37.5943 (7.35)          2;0  2.2956 (0.52)          5           1
test_writing_docs_from_filesystem_with_8_threads_default_batch       416.9324 (1.89)     454.5689 (1.94)     438.5425 (1.93)     14.7714 (2.86)     442.1901 (1.98)     21.6758 (4.24)          2;0  2.2803 (0.52)          5           1
test_writing_docs_from_filesystem_with_12_threads_default_batch      424.1900 (1.92)     467.0978 (2.00)     454.2058 (2.00)     17.3558 (3.36)     458.2895 (2.06)     17.0951 (3.34)          1;0  2.2016 (0.50)          5           1
test_writing_docs_from_filesystem_with_12_threads_batch_100          429.4573 (1.94)     454.6979 (1.94)     440.9104 (1.95)     11.5200 (2.23)     440.4172 (1.98)     21.5938 (4.22)          1;0  2.2680 (0.51)          5           1
test_writing_docs_from_filesystem_with_12_threads_batch_200          432.1538 (1.95)     598.6619 (2.56)     478.4015 (2.11)     69.5867 (13.49)    447.7010 (2.01)     73.2221 (14.31)         1;0  2.0903 (0.47)          5           1
test_writing_docs_from_filesystem_with_default_threads_batch_100     439.2341 (1.99)     485.3032 (2.07)     452.0448 (1.99)     18.9910 (3.68)     444.1767 (1.99)     17.4572 (3.41)          1;1  2.2122 (0.50)          5           1
test_writing_docs_from_filesystem_with_24_threads_batch_100          439.2737 (1.99)     476.8544 (2.04)     451.0424 (1.99)     15.0266 (2.91)     444.4243 (1.99)     14.9127 (2.91)          1;0  2.2171 (0.50)          5           1
test_writing_docs_from_filesystem_with_12_threads_batch_300          439.4758 (1.99)     480.2971 (2.05)     456.5521 (2.01)     14.8854 (2.89)     453.9782 (2.04)     14.4299 (2.82)          2;0  2.1903 (0.50)          5           1
test_writing_docs_from_filesystem_with_24_threads_batch_200          445.8222 (2.02)     484.0360 (2.07)     464.3726 (2.05)     15.2841 (2.96)     458.2275 (2.06)     22.6825 (4.43)          2;0  2.1534 (0.49)          5           1
test_writing_docs_from_filesystem_with_24_threads_default_batch      449.0732 (2.03)     518.4677 (2.22)     484.4912 (2.14)     27.4024 (5.31)     486.5923 (2.18)     43.1141 (8.43)          2;0  2.0640 (0.47)          5           1
test_writing_docs_from_filesystem_with_default_threads_batch_200     449.4827 (2.03)     551.2318 (2.36)     500.3026 (2.21)     43.9462 (8.52)     502.6692 (2.26)     78.8922 (15.42)         2;0  1.9988 (0.45)          5           1
test_writing_docs_from_filesystem_with_8_threads_batch_200           450.5641 (2.04)     485.0955 (2.07)     462.4737 (2.04)     14.7641 (2.86)     454.0297 (2.04)     21.3811 (4.18)          1;0  2.1623 (0.49)          5           1
test_writing_docs_from_filesystem_with_24_threads_batch_300          450.6574 (2.04)     466.4875 (1.99)     460.2664 (2.03)      5.8384 (1.13)     460.9545 (2.07)      5.1169 (1.0)           2;0  2.1727 (0.49)          5           1
test_writing_docs_from_filesystem_with_4_threads_batch_200           465.1959 (2.10)     535.1864 (2.29)     485.6990 (2.14)     28.7856 (5.58)     476.7582 (2.14)     31.0917 (6.08)          1;0  2.0589 (0.47)          5           1
test_writing_docs_from_filesystem_with_8_threads_batch_300           466.7643 (2.11)     509.6027 (2.18)     487.5023 (2.15)     18.7186 (3.63)     493.4198 (2.21)     32.4865 (6.35)          2;0  2.0513 (0.46)          5           1
test_writing_docs_from_filesystem_with_default_threads_batch_300     467.0316 (2.11)     528.9109 (2.26)     490.1934 (2.16)     26.8275 (5.20)     474.6480 (2.13)     41.4869 (8.11)          1;0  2.0400 (0.46)          5           1
test_writing_docs_from_filesystem_with_default_settings              471.1618 (2.13)     483.2834 (2.07)     477.3883 (2.11)      5.1582 (1.0)      479.7707 (2.15)      8.3471 (1.63)          2;0  2.0947 (0.47)          5           1
test_writing_docs_from_filesystem_with_4_threads_batch_300           504.0829 (2.28)     569.9080 (2.44)     540.4981 (2.38)     24.0154 (4.66)     541.5894 (2.43)     26.9166 (5.26)          2;0  1.8501 (0.42)          5           1
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Legend:
  Outliers: 1 Standard Deviation from Mean; 1.5 IQR (InterQuartile Range) from 1st Quartile and 3rd Quartile.
  OPS: Operations Per Second, computed as 1 / Mean
=============================================================================================== 40 passed in 149.04s (0:02:29) ================================================================================================
```

```text
===================================================================================================== test session starts =====================================================================================================
platform linux -- Python 3.8.10, pytest-7.4.3, pluggy-1.3.0
benchmark: 4.0.0 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: /home/tom/workspace/projects/mlclient
configfile: pyproject.toml
plugins: mock-3.12.0, benchmark-4.0.0, bdd-7.0.1, cov-4.1.0
collected 40 items                                                                                                                                                                                                            

tests/performance/mlclient/jobs/test_write_documents_job.py ........................................                                                                                                                    [100%]
Saved benchmark data in: /home/tom/workspace/projects/mlclient/.benchmarks/Linux-CPython-3.8-64bit/0008_939faee40f94e936951d62260cacc91c2bc8074e_20240120_072343.json



---------------------------------------------------------------------------------------------------------- benchmark: 40 tests -----------------------------------------------------------------------------------------------------------
Name (time in ms)                                                         Min                 Max                Mean             StdDev              Median                 IQR            Outliers     OPS            Rounds  Iterations
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
test_writing_docs_with_default_settings                              229.8230 (1.0)      403.8937 (1.32)     277.6136 (1.03)     72.2241 (7.61)     246.0476 (1.0)       68.1046 (6.61)          1;0  3.6021 (0.97)          5           1
test_writing_docs_with_24_threads_default_batch                      230.1007 (1.00)     306.6381 (1.0)      269.3322 (1.0)      29.5915 (3.12)     268.5717 (1.09)      44.4041 (4.31)          2;0  3.7129 (1.0)           5           1
test_writing_docs_with_default_threads_batch_100                     238.2529 (1.04)     344.4010 (1.12)     307.9034 (1.14)     44.2738 (4.66)     332.6800 (1.35)      60.2194 (5.85)          1;0  3.2478 (0.87)          5           1
test_writing_docs_with_12_threads_default_batch                      238.7312 (1.04)     350.4047 (1.14)     283.8635 (1.05)     40.9681 (4.32)     275.0660 (1.12)      38.0890 (3.70)          2;0  3.5228 (0.95)          5           1
test_writing_docs_with_8_threads_default_batch                       257.9930 (1.12)     343.0418 (1.12)     298.0079 (1.11)     37.7519 (3.98)     295.8152 (1.20)      69.4351 (6.74)          2;0  3.3556 (0.90)          5           1
test_writing_docs_with_8_threads_batch_100                           260.9770 (1.14)     462.8178 (1.51)     331.2981 (1.23)     84.7493 (8.93)     281.9768 (1.15)     117.4094 (11.40)         1;0  3.0184 (0.81)          5           1
test_writing_docs_with_24_threads_batch_300                          270.1140 (1.18)     528.2206 (1.72)     437.1662 (1.62)     99.3063 (10.46)    470.8667 (1.91)     101.5649 (9.86)          1;0  2.2875 (0.62)          5           1
test_writing_docs_with_12_threads_batch_100                          283.9557 (1.24)     384.4359 (1.25)     338.1498 (1.26)     38.6365 (4.07)     336.3618 (1.37)      55.8886 (5.42)          2;0  2.9573 (0.80)          5           1
test_writing_docs_with_24_threads_batch_100                          297.5206 (1.29)     524.8893 (1.71)     370.6802 (1.38)     90.7307 (9.56)     346.9027 (1.41)      99.1368 (9.62)          1;0  2.6977 (0.73)          5           1
test_writing_docs_with_default_threads_batch_300                     307.0975 (1.34)     437.0517 (1.43)     383.1986 (1.42)     54.5392 (5.75)     387.1260 (1.57)      90.8085 (8.81)          1;0  2.6096 (0.70)          5           1
test_writing_docs_with_4_threads_batch_100                           307.9156 (1.34)     353.6049 (1.15)     325.8314 (1.21)     16.9405 (1.78)     324.2388 (1.32)      16.0311 (1.56)          2;0  3.0691 (0.83)          5           1
test_writing_docs_with_4_threads_default_batch                       311.7384 (1.36)     385.7408 (1.26)     347.2327 (1.29)     32.3573 (3.41)     332.8926 (1.35)      54.8657 (5.33)          2;0  2.8799 (0.78)          5           1
test_writing_docs_with_4_threads_batch_300                           323.4944 (1.41)     532.3137 (1.74)     377.5133 (1.40)     88.3328 (9.31)     339.9764 (1.38)      84.3854 (8.19)          1;0  2.6489 (0.71)          5           1
test_writing_docs_with_24_threads_batch_200                          325.5258 (1.42)     359.6448 (1.17)     340.9847 (1.27)     16.7501 (1.76)     333.0953 (1.35)      31.3243 (3.04)          2;0  2.9327 (0.79)          5           1
test_writing_docs_with_default_threads_batch_200                     327.4573 (1.42)     408.5552 (1.33)     378.7965 (1.41)     31.0725 (3.27)     386.6128 (1.57)      34.6966 (3.37)          1;0  2.6399 (0.71)          5           1
test_writing_docs_with_12_threads_batch_200                          337.2846 (1.47)     419.5824 (1.37)     392.1514 (1.46)     36.2057 (3.81)     413.0599 (1.68)      54.4843 (5.29)          1;0  2.5500 (0.69)          5           1
test_writing_docs_with_12_threads_batch_300                          340.8077 (1.48)     474.9221 (1.55)     413.2498 (1.53)     63.5433 (6.69)     439.0458 (1.78)     117.8582 (11.44)         2;0  2.4198 (0.65)          5           1
test_writing_docs_with_8_threads_batch_200                           352.6423 (1.53)     397.1054 (1.30)     376.7970 (1.40)     15.8507 (1.67)     377.8926 (1.54)      13.2677 (1.29)          2;0  2.6539 (0.71)          5           1
test_writing_docs_with_4_threads_batch_200                           371.8663 (1.62)     489.5978 (1.60)     436.1968 (1.62)     54.2521 (5.72)     456.3638 (1.85)      99.2572 (9.63)          1;0  2.2925 (0.62)          5           1
test_writing_docs_from_filesystem_with_4_threads_default_batch       399.1795 (1.74)     459.1040 (1.50)     424.2701 (1.58)     25.2749 (2.66)     412.8616 (1.68)      40.5427 (3.94)          1;0  2.3570 (0.63)          5           1
test_writing_docs_with_8_threads_batch_300                           404.8177 (1.76)     569.8180 (1.86)     483.6175 (1.80)     61.7327 (6.50)     469.3352 (1.91)      80.5959 (7.82)          2;0  2.0677 (0.56)          5           1
test_writing_docs_from_filesystem_with_8_threads_default_batch       407.8578 (1.77)     487.4670 (1.59)     441.2824 (1.64)     33.6821 (3.55)     443.8460 (1.80)      56.0853 (5.44)          1;0  2.2661 (0.61)          5           1
test_writing_docs_from_filesystem_with_8_threads_batch_100           408.3850 (1.78)     473.2183 (1.54)     436.0643 (1.62)     28.2006 (2.97)     437.3094 (1.78)      49.3365 (4.79)          1;0  2.2932 (0.62)          5           1
test_writing_docs_from_filesystem_with_4_threads_batch_100           411.3225 (1.79)     470.9089 (1.54)     438.2210 (1.63)     21.9755 (2.32)     440.2963 (1.79)      25.7357 (2.50)          2;0  2.2820 (0.61)          5           1
test_writing_docs_from_filesystem_with_12_threads_default_batch      428.2900 (1.86)     507.1649 (1.65)     469.4229 (1.74)     32.3054 (3.40)     457.4335 (1.86)      49.6467 (4.82)          2;0  2.1303 (0.57)          5           1
test_writing_docs_from_filesystem_with_default_settings              456.5550 (1.99)     622.2738 (2.03)     512.6657 (1.90)     63.9400 (6.74)     489.4584 (1.99)      56.1892 (5.45)          1;1  1.9506 (0.53)          5           1
test_writing_docs_from_filesystem_with_default_threads_batch_100     471.1517 (2.05)     561.6185 (1.83)     527.3914 (1.96)     36.2968 (3.82)     530.4063 (2.16)      51.5846 (5.01)          1;0  1.8961 (0.51)          5           1
test_writing_docs_from_filesystem_with_4_threads_batch_200           479.2884 (2.09)     545.4354 (1.78)     524.5166 (1.95)     29.3709 (3.09)     543.5656 (2.21)      42.3156 (4.11)          1;0  1.9065 (0.51)          5           1
test_writing_docs_from_filesystem_with_24_threads_batch_200          486.1630 (2.12)     541.6813 (1.77)     509.0174 (1.89)     20.6219 (2.17)     506.8933 (2.06)      23.2328 (2.26)          2;0  1.9646 (0.53)          5           1
test_writing_docs_from_filesystem_with_12_threads_batch_200          496.4162 (2.16)     550.9479 (1.80)     522.6554 (1.94)     22.3606 (2.36)     525.2880 (2.13)      37.1858 (3.61)          2;0  1.9133 (0.52)          5           1
test_writing_docs_from_filesystem_with_12_threads_batch_100          497.9312 (2.17)     548.4417 (1.79)     531.0839 (1.97)     20.2162 (2.13)     540.3022 (2.20)      24.6172 (2.39)          1;0  1.8829 (0.51)          5           1
test_writing_docs_from_filesystem_with_24_threads_batch_100          498.6036 (2.17)     523.2849 (1.71)     510.4228 (1.90)      9.4915 (1.0)      510.5279 (2.07)      14.0049 (1.36)          2;0  1.9592 (0.53)          5           1
test_writing_docs_from_filesystem_with_24_threads_default_batch      500.6063 (2.18)     625.4134 (2.04)     530.9640 (1.97)     53.4497 (5.63)     504.6118 (2.05)      45.3780 (4.40)          1;1  1.8834 (0.51)          5           1
test_writing_docs_from_filesystem_with_12_threads_batch_300          506.3930 (2.20)     576.4284 (1.88)     542.1782 (2.01)     31.5756 (3.33)     543.5024 (2.21)      59.0326 (5.73)          2;0  1.8444 (0.50)          5           1
test_writing_docs_from_filesystem_with_8_threads_batch_200           513.5516 (2.23)     596.0666 (1.94)     542.8539 (2.02)     33.6400 (3.54)     525.0918 (2.13)      44.3926 (4.31)          1;0  1.8421 (0.50)          5           1
test_writing_docs_from_filesystem_with_default_threads_batch_200     513.5748 (2.23)     606.7831 (1.98)     563.3432 (2.09)     39.4666 (4.16)     572.9439 (2.33)      67.9131 (6.59)          2;0  1.7751 (0.48)          5           1
test_writing_docs_from_filesystem_with_default_threads_batch_300     529.8537 (2.31)     661.7339 (2.16)     567.8783 (2.11)     54.5749 (5.75)     540.1359 (2.20)      56.5637 (5.49)          1;0  1.7609 (0.47)          5           1
test_writing_docs_from_filesystem_with_24_threads_batch_300          530.6278 (2.31)     569.0420 (1.86)     547.5125 (2.03)     16.1882 (1.71)     539.0630 (2.19)      25.3710 (2.46)          2;0  1.8264 (0.49)          5           1
test_writing_docs_from_filesystem_with_8_threads_batch_300           551.7973 (2.40)     591.6791 (1.93)     569.2213 (2.11)     17.1461 (1.81)     563.5516 (2.29)      29.4027 (2.85)          2;0  1.7568 (0.47)          5           1
test_writing_docs_from_filesystem_with_4_threads_batch_300           587.3764 (2.56)     622.9720 (2.03)     597.6492 (2.22)     14.3530 (1.51)     592.7244 (2.41)      10.3026 (1.0)           1;1  1.6732 (0.45)          5           1
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Legend:
  Outliers: 1 Standard Deviation from Mean; 1.5 IQR (InterQuartile Range) from 1st Quartile and 3rd Quartile.
  OPS: Operations Per Second, computed as 1 / Mean
=============================================================================================== 40 passed in 180.29s (0:03:00) ================================================================================================
```
